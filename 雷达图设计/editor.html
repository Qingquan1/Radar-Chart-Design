<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>雷达图数据编辑器</title>
    <link rel="stylesheet" href="editor.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>📊 雷达图数据编辑器</h1>
            <p class="subtitle">可视化编辑数据，实时预览雷达图</p>
        </header>

        <div class="main-layout">
            <!-- 左侧：编辑区 -->
            <div class="editor-section">
                <div class="tabs">
                    <button class="tab-btn active" data-tab="table">📋 表格编辑</button>
                    <button class="tab-btn" data-tab="json">📝 JSON 编辑</button>
                </div>

                <!-- 表格编辑模式 -->
                <div id="table-editor" class="tab-content active">
                    <div class="config-section">
                        <h3>基本配置</h3>
                        <div class="form-group">
                            <label>标题：</label>
                            <input type="text" id="chart-title" value="手机能力雷达图" placeholder="输入标题">
                        </div>
                        <div class="form-group">
                            <label>副标题：</label>
                            <input type="text" id="chart-subtitle" value="黑夜总隐藏凶险，每款电脑 0.5 ~ 5分每个维度比" placeholder="输入副标题">
                        </div>
                    </div>

                    <div class="dimensions-section">
                        <h3>评测维度 <button id="add-dimension" class="btn-small">+ 添加维度</button></h3>
                        <div id="dimensions-list" class="dimensions-grid"></div>
                    </div>

                    <div class="products-section">
                        <h3>产品数据 <button id="add-product" class="btn-primary">+ 添加产品</button></h3>
                        <div id="products-container"></div>
                    </div>

                    <div class="actions">
                        <button id="preview-btn" class="btn-success">🔄 刷新预览</button>
                        <button id="apply-to-main-btn" class="btn-success">✓ 应用到主页面</button>
                        <button id="export-config-btn" class="btn-primary">💾 导出配置文件</button>
                        <button id="load-sample-btn" class="btn-secondary">📥 加载示例</button>
                    </div>
                    
                    <div class="success-message" id="success-message">
                        ✓ 数据已应用！<a href="index.html" target="_blank">点击打开主页面查看效果</a>
                    </div>
                </div>

                <!-- JSON 编辑模式 -->
                <div id="json-editor" class="tab-content">
                    <div class="json-toolbar">
                        <button id="format-json-btn" class="btn-small">✨ 格式化</button>
                        <button id="validate-json-btn" class="btn-small">✓ 验证</button>
                        <button id="apply-json-btn" class="btn-success">✓ 应用数据</button>
                    </div>
                    <textarea id="json-input" placeholder="在此粘贴或编辑 JSON 数据..."></textarea>
                    <div id="json-error" class="error-message"></div>
                    
                    <div class="json-help">
                        <h4>JSON 格式说明：</h4>
                        <pre>{
  "title": "标题",
  "subtitle": "副标题",
  "dimensions": ["维度1", "维度2", ...],
  "products": [
    {
      "model": "产品名称",
      "abilities": {
        "维度1": 5,
        "维度2": 3,
        ...
      }
    }
  ]
}</pre>
                    </div>
                </div>
            </div>

            <!-- 右侧：预览区 -->
            <div class="preview-section">
                <h3>实时预览</h3>
                <div class="preview-container">
                    <canvas id="preview-chart"></canvas>
                </div>
                <div class="preview-info">
                    <p>📊 产品数量: <span id="product-count">0</span></p>
                    <p>📏 维度数量: <span id="dimension-count">0</span></p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="editor.js"></script>
</body>
</html>
